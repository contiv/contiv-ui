<div class="ui sixteen column grid pageHeader" [ngClass]="{loading: showLoader}">
    <div [ngSwitch]="userDetailsCtrl.mode" class="ui row">
        <div class="left aligned eight wide column">
            <div *ngSwitchCase="'details'" class="content pageTitle">Details: {{userDetailsCtrl.user.userName}}</div>
            <div *ngSwitchCase="'edit'" class="content pageTitle">Editing: {{userDetailsCtrl.user.userName}}</div>
        </div>
        <div class="right aligned eight wide column">

            <div id="delete-user-modal" class="ui small modal">
                <div class="header">Remove User: {{user.userName}}
                </div>
                <div class="content">
                    <p>Are you sure you want to remove this user?</p>
                </div>
                <div class="actions">
                    <div class="ui negative button">No</div>
                    <div class="ui positive button" (click)="deleteUser()">
                        Yes
                    </div>
                </div>
            </div>

            <button *ngSwitchCase="'edit'" class="ui large button cancelBtn"
                    (click)="cancelEditing()">
                Cancel
            </button>
            <button *ngSwitchCase="'details'" class="ui large button cancelBtn"
                    (click)="cancelDetails()">
                Close
            </button>
            <button *ngSwitchCase="'details'" class="ui large button secondaryBtn"
                    (click)="editUser()">
                Edit
            </button>
            <button class="ui blue large button secondaryBtn" onclick="$('#delete-user-modal').modal('show')">
                <i class="trash icon"></i>
                Remove
            </button>

        </div>
    </div>

    <div class="ui row breadcrumbRow">
        <div class="ui sixteen wide column">
            <div class="breadcrumbs">
                <span class="crumb">
                    <a [routerLink]="['../../list']">
                        User Management
                    </a>
                </span>
                <span class="crumb">
                    {{user.userName}}
                </span>
            </div>
        </div>
    </div>

    <div class="ui row">
        <div class="ui sixteen wide column">

            <div class="ui basic segment">
                <div class="ui active inverted dimmer" *ngIf="showLoader">
                    <div class="ui loader"></div>
                </div>

                <table class="ui very basic selectable table">
                    <tbody>
                        <tr>
                            <td class="key">Username</td>
                            <td class="value">{{user.username}}</td>
                        </tr>
                        <tr *ngSwitchCase="'details'">
                            <td class="key">Firstname</td>
                            <td class="value">{{user.first_name}}</td>
                        </tr>
                        <tr *ngSwitchCase="'details'">
                            <td class="key">Lastname</td>
                            <td class="value">{{user.last_name}}</td>
                        </tr>
                        <tr *ngSwitchCase="'details'">
                            <td class="key">Disabled</td>
                            <td class="value">{{user.disable?'Yes':'No'}}</td>
                        </tr>
                    </tbody>
                </table>

                <div [ngSwitch]="mode">
                    <form class="ui form"
                          role="form"
                          *ngSwitchCase="'edit'"
                          (submit)="saveUser(formRef.valid)" novalidate #formRef="ngForm">

                        <div class="field">
                            <div *ngIf="formRef.submitted">
                                <div [hidden]="formRef.valid" class="ui negative message">
                                    <ul class="list">
                                        <li *ngIf="userName.errors?.required">Please enter
                                            user name
                                        </li>
                                        <li *ngIf="userOrganization.errors?.required">
                                            Please select organization
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="ui sizteen column grid">
                            <div class="ui row">

                                <div class="ui four wide column">
                                    <div class="field">
                                        <label for="userName">Username</label>
                                        <input type="text" id="userName" name="username"
                                               [(ngModel)]="user.username"
                                               placeholder="Enter name" required #username="ngModel">
                                    </div>
                                </div>
                                <div class="ui four wide column">
                                    <div class="field">
                                        <label for="firstname">First Name</label>
                                        <input type="text" id="firstname" name="firstname"
                                               [(ngModel)]="user.first_name"
                                               placeholder="Enter First Name" #firstname="ngModel">
                                    </div>
                                </div>
                                <div class="ui four wide column">
                                    <div class="field">
                                        <label for="lastname">Last Name</label>
                                        <input type="text" id="lastname" name="lastname"
                                               [(ngModel)]="user.last_name"
                                               placeholder="Enter Last Name" #lastname="ngModel">
                                    </div>
                                </div>
                                <div class="ui four wide column">
                                    <div class="field">
                                        <label for="password">Password</label>
                                        <input type="password" id="password" name="password"
                                               [(ngModel)]="user.password"
                                               placeholder="Reset Password" #password="ngModel">
                                    </div>
                                </div>

                            </div>
                            <div class="ui row">

                                <div class="ui four wide column">
                                    <label>&nbsp;<br>
                                        <input type="checkbox" name="userdisabled" tabindex="0" class="alignLabel"
                                                   [(ngModel)]="user.disable">
                                            Disabled
                                    </label>
                                </div>

                            </div>
                            <div class="ui row" *ngSwitchCase="'edit'">

                                <div class="right aligned fifteen wide column buttonRow">
                                    <button type="button" class="ui large button cancelBtn" (click)="cancelEditing()">
                                        Cancel
                                    </button>
                                    <button type="submit" class="ui blue large button primaryBtn">
                                        Save
                                    </button>
                                </div>

                            </div>

                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
</div>
