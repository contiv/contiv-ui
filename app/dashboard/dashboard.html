<!--<div class="content" style="font-size: 18px; margin-top: 30px">Resources</div> -->


<div class="ui grid" style="margin-top: 15px">
    <div class="row">
        <div class="ui twelve wide column">
            <div class="ui segment">
                <div class="row">
                    <div class="ui buttons">
                        <button class="ui blue button" [ngClass]="{basic: endpointType!='Network'}" (click)="switch('Network')">Networks</button>
                        <button style="margin-left: 10px;"class="ui blue button" [ngClass]="{basic: endpointType!='ApplicationGroup'}" (click)="switch('ApplicationGroup')">Application Groups</button>
                    </div>
                </div>
                <div class="row" style="margin-top: 20px;">
                    <linegraph [key]="key" [endpointType]="endpointType"></linegraph>
                </div>
                <div class="row" style="margin-top: 30px;" *ngIf="endpointType=='Network'">
                    <ctv-table #tableRef [defaultSortColumn]="'networkName'"
                               [items]="networkList"
                               (filtereditems)="filterednetworks=$event; setKey($event)"
                               [size]="4">
                        <thead>
                        <tr>
                            <th><ctv-th [sortfield]="'networkName'" (sortdata)="tableRef.applysort($event)" [sortobject]="tableRef.sortObj">Name</ctv-th></th>
                            <th><ctv-th [sortfield]="'encap'" (sortdata)="tableRef.applysort($event)" [sortobject]="tableRef.sortObj">Encapsulation</ctv-th></th>
                            <th><ctv-th [sortfield]="'subnet'" (sortdata)="tableRef.applysort($event)" [sortobject]="tableRef.sortObj">Subnet</ctv-th></th>
                        </tr>
                        </thead>

                        <tbody>
                        <tr class="selectable" *ngFor="let network of filterednetworks" [ngClass]="{selected: key==network.key, notSelected: key!=network.key}" (click)="key=network.key">
                            <td>{{network.networkName}}</td>
                            <td>{{network.encap}}</td>
                            <td>{{network.subnet}}</td>
                            <td></td>
                        </tr>
                        </tbody>
                        <tfoot>
                        <tr>
                            <td colspan="4">
                                <ctv-tpagination [chunks]="tableRef.pageChunks"
                                                 (showPage)="tableRef.showChunk($event, tableRef.table.searchText)"
                                                 (prevChunk)="tableRef.showPrevChunk()"
                                                 (nextChunk)="tableRef.showNextChunk()">
                                </ctv-tpagination>
                            </td>
                        </tr>
                        </tfoot>
                    </ctv-table>
                </div>
                <div class="row" style="margin-top: 30px;" *ngIf="endpointType=='ApplicationGroup'">
                    <ctv-table #tableRef1 [defaultSortColumn]="'groupName'"
                               [items]="applicationGroupList"
                               (filtereditems)="filteredgroups=$event; setKey($event)"
                               [size]="4">
                        <thead>
                        <tr>
                            <th><ctv-th [sortfield]="'groupName'" (sortdata)="tableRef1.applysort($event)" [sortobject]="tableRef1.sortObj">Name</ctv-th></th>
                            <th><ctv-th [sortfield]="'networkName'" (sortdata)="tableRef1.applysort($event)" [sortobject]="tableRef1.sortObj">Network</ctv-th></th>
                            <th><ctv-th [sortfield]="'policies'" (sortdata)="tableRef1.applysort($event)" [sortobject]="tableRef1.sortObj">Policies</ctv-th></th>
                        </tr>
                        </thead>

                        <tbody>
                        <tr *ngFor="let group of filteredgroups" [ngClass]="{selected: key==group.key, notSelected: key!=group.key}" (click)="key=group.key">
                            <td>{{group.groupName}}</td>
                            <td>{{group.networkName}}</td>
                            <td>{{group.policies.join(", ")}}</td>
                            <td></td>
                        </tr>
                        </tbody>
                        <tfoot>
                        <tr>
                            <td colspan="4">
                                <ctv-tpagination [chunks]="tableRef1.pageChunks"
                                                 (showPage)="tableRef1.showChunk($event, tableRef1.table.searchText)"
                                                 (prevChunk)="tableRef1.showPrevChunk()"
                                                 (nextChunk)="tableRef1.showNextChunk()">
                                </ctv-tpagination>
                            </td>
                        </tr>
                        </tfoot>
                    </ctv-table>
                </div>
            </div>
        </div>
        <div class="ui right floated four wide column">
            <a class="ui fluid card" [routerLink]="['../networks/list']">
                <div class="content">
                    <div class="ui grey ribbon label">
                        <i class="small networks icon" style="margin-left: 0.75em"></i> Networks
                    </div>
                    <div class="description">
                        <p class="center aligned" style="font-size: 5rem">{{networks}}</p>
                    </div>

                </div>
            </a>
            <a class="ui fluid card" [routerLink]="['../servicelbs/list']">
                <div class="content">
                    <div class="ui grey ribbon label">
                        <i class="small networks icon" style="margin-left: 0.75em"></i> Service Load Balancers
                    </div>
                    <div class="description">
                        <p class="center aligned" style="font-size: 5rem">{{servicelbs}}</p>
                    </div>

                </div>
            </a>
            <a class="ui fluid card" [routerLink]="['../applicationgroups/list']">
                <div class="content">
                    <div class="ui grey ribbon label">
                        <i class="appgroup icon"></i> Application Groups
                    </div>
                    <div class="description">
                        <p class="center aligned" style="font-size: 5rem">{{groups}}</p>
                    </div>
                </div>
            </a>
            <a class="ui fluid card" [routerLink]="['../networkpolicies/list']">
                <div class="content">
                    <div class="ui grey ribbon label">
                        <i class="networkpolicies icon"></i> Network Policies
                    </div>
                    <div class="description">
                        <p class="center aligned" style="font-size: 5rem">{{networkpolicies}}</p>
                    </div>
                </div>
            </a>
        </div>
    </div>
</div>

