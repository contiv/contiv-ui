<div class="ui sixteen column grid">
    <div class="ui row pageHeader">
        <div class="left aligned eight wide column">
            <div class="content pageTitle">Create Bandwidth Policy</div>
        </div>
        <div class="right aligned eight wide column">&nbsp;</div>
    </div>
    <div class="ui row breadcrumbRow">
        <div class="ui sixteen wide column">
            <div class="breadcrumbs">
                <span class="crumb">
                    <a href="/#/m/networkpolicies/list">
                        Network Policies
                    </a>
                </span>
                <span class="crumb">
                    <a (click)="returnToPolicies()">
                        Bandwidth Policies
                    </a>
                </span>
                <span class="crumb">Create</span>
            </div>
        </div>
    </div>

    <div class="ui row">
        <div class="ui sixteen wide column">

            <form class="ui form" role="form" #formRef="ngForm"
                  (ngSubmit)="createPolicy(formRef.valid)" novalidate>
                <div class="ui active inverted dimmer" *ngIf="showLoader">
                    <div class="ui loader"></div>
                </div>

                <div class="ui basic segment">
                    <div class="ui sixteen column grid">
                        <div class="ui row">
                            <div class="ui six wide column">
                                <div class="field" [ngClass]="{error: profileNameRef.errors?.required && formRef.submitted}">
                                    <label for="newProfileName">Policy name</label>
                                    <input #profileNameRef="ngModel" type="text" id="newProfileName" name="newProfileName"
                                           [(ngModel)]="newPolicy.profileName" placeholder="Enter profile name" required>
                                    <span class="inlineError" *ngIf="profileNameRef.errors?.required && formRef.submitted">
                                        Please enter profile name
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="ui row">
                            <div class="ui six wide column">
                                <div class="field" [ngClass]="{error: policyTenantRef.errors?.required && formRef.submitted}">
                                    <label for="newPolicyTenant">Tenant</label>
                                    <select id="newPolicyTenant" class="ui dropdown"
                                            name="newPolicyTenant"
                                            [(ngModel)]="newPolicy.tenantName"
                                            required #policyTenantRef="ngModel">
                                        <option value="">-- Please select tenant --</option>
                                        <option *ngFor="let tenant of tenants" [ngValue]="tenant.tenantName">{{tenant.tenantName}}</option>
                                    </select>
                                    <span class="inlineError" *ngIf="policyTenantRef.errors?.required && formRef.submitted">
                                        Please select tenant
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="ui row">
                            <div class="ui six wide column">

                                <div class="fields">
                                    <div class="eight wide field" [ngClass]="{error: bandwidthNumberRef.errors?.required && formRef.submitted}">
                                        <label for="newBandwidthNumber">Bandwidth Value</label>
                                        <input #bandwidthNumberRef="ngModel" type="number" id="newBandwidthNumber" name="newBandwidthNumber"
                                               [(ngModel)]="newPolicy.bandwidthNumber" placeholder="Enter bandwidth" required>
                                        <span class="inlineError" *ngIf="bandwidthNumberRef.errors?.required && formRef.submitted">
                                           Please enter bandwidth
                                        </span>
                                    </div>
                                    <div class="eight wide field" [ngClass]="{error: bandwidthUnitRef.errors?.required && formRef.submitted}">
                                        <label for="newBandwidthUnit">Bandwidth Unit</label>
                                        <select #bandwidthUnitRef="ngModel" name="newBandwidthUnit" id="newBandwidthUnit" class="ui dropdown"
                                                [(ngModel)]="newPolicy.bandwidthUnit" required>
                                            <option value=""> -- Select unit -- </option>
                                            <option value="kbps">kbps</option>
                                            <option value="mbps">mbps</option>
                                            <option value="gbps">gbps</option>
                                        </select>
                                        <span class="inlineError" *ngIf="bandwidthUnitRef.errors?.required && formRef.submitted">
                                            Please select bandwidth Unit
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="ui row">
                            <div class="ui six wide column">
                                <div class="field" [ngClass]="{error: DSCPRef.errors?.required && formRef.submitted}">
                                    <label for="newDSCP">DSCP</label>
                                    <input #DSCPRef="ngModel" type="number" id="newDSCP" name="newDSCP"
                                           [(ngModel)]="newPolicy.DSCP" placeholder="Enter DSCP" required/>
                                    <span class="inlineError" *ngIf="DSCPRef.errors?.required && formRef.submitted">
                                        Please enter DSCP
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="ui grid">
                        <div class="right aligned six wide column">
                            <div class="buttonRow">
                                <button type="button" class="ui basic button" (click)="cancelCreating()">
                                    Cancel
                                </button>
                                <button type="submit" class="ui primary button">
                                    Create
                                </button>
                            </div>
                        </div>
                    </div>

                    <ctv-error *ngIf="showServerError" header="Error creating policy"
                               [error]="serverErrorMessage">
                    </ctv-error>
                </div>

            </form>
        </div>
    </div>
</div>
