<div class="ui sixteen column grid">
    <div class="ui row pageHeader">
        <div class="left aligned eight wide column">
            <div class="content pageTitle">LDAP Settings</div>
        </div>
        <div class="right aligned eight wide column">&nbsp;</div>
    </div>

    <div class="ui row breadcrumbRow">
        <div class="ui sixteen wide column">
            <div class="breadcrumbs">
                <span class="crumb">
                        LDAP Settings
                </span>
            </div>
        </div>
    </div>

    <div class="ui row">
        <div class="ui sixteen wide column" [ngClass]="{loading: showLoader}">

            <form class="ui form" role="form" #formRef="ngForm"
                  (ngSubmit)="updateLdapConfig(formRef.valid)" novalidate>

                <div class="field">
                    <div *ngIf="formRef.submitted">
                        <div *ngIf="!formRef.valid" class="ui negative message">
                            <ul class="list">
                                <li *ngIf="server.errors?.required">
                                    Please enter ldap server address
                                </li>
                                <li *ngIf="port.errors?.required">
                                    Please enter ldap server port number
                                </li>
                                <li *ngIf="base_dn.errors?.required">
                                    Please enter ldap base dn
                                </li>
                                <li *ngIf="service_account_dn.errors?.required">
                                    Please enter ladap service account dn
                                </li>
                                <li *ngIf="service_account_password.errors?.required">
                                    Please enter ldap service account password
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="ui sixteen column grid">
                    <div class="ui row">

                        <div class="ui eight wide column">
                            <div class="fields">
                                <div class="field">
                                    <label for="server">Server Address</label>
                                    <input #server="ngModel"
                                           type="text"
                                           id="server"
                                           name="server"
                                           [(ngModel)]="ldapConfig.server" placeholder="Server address" required>
                                </div>
                                <div class="field">
                                    <label for="port">Server Port</label>
                                    <input #port="ngModel"
                                           type="number"
                                           id="port"
                                           name="port"
                                           [(ngModel)]="ldapConfig.port" placeholder="Server port" required>
                                </div>
                            </div>
                        </div>
                        <div class="ui eight wide column">
                            <div class="field">
                                <label for="service_account_password">Service Account Password</label>
                                <input #service_account_password="ngModel"
                                       type="password"
                                       id="service_account_password"
                                       name="service_account_password"
                                       [(ngModel)]="ldapConfig.service_account_password" placeholder="Enter password" required>
                            </div>
                        </div>
                    </div>
                    <div class="ui row">

                        <div class="ui eight wide column">
                            <div class="field">
                                <label for="base_dn">Base DN</label>
                                <input #base_dn="ngModel"
                                       type="text"
                                       id="base_dn"
                                       name="base_dn"
                                       [(ngModel)]="ldapConfig.base_dn" placeholder="Enter base DN" required>
                            </div>
                        </div>
                        <div class="ui eight wide column">
                            <div class="field">
                                <label for="service_account_dn">Service Account DN</label>
                                <input #service_account_dn="ngModel"
                                       type="text"
                                       id="service_account_dn"
                                       name="service_account_dn"
                                       [(ngModel)]="ldapConfig.service_account_dn" placeholder="Enter service account DN" required>
                            </div>
                        </div>

                    </div>
                    <div class="ui row">

                        <div class="ui eight wide column">
                            <div class="field">
                                <label>&nbsp;<br>
                                    <input type="checkbox" name="StartTLS" tabindex="0" class="alignLabel"
                                           [(ngModel)]="ldapConfig.StartTLS">
                                    Start TLS
                                </label>
                            </div>
                        </div>
                        <div class="ui eight wide column">
                            <div class="field">
                                <label>&nbsp;<br>
                                    <input type="checkbox" name="InsecureSkipVerify" tabindex="0" class="alignLabel"
                                           [(ngModel)]="ldapConfig.InsecureSkipVerify">
                                    Accept certs as-is, skipping validation
                                </label>
                            </div>
                        </div>

                    </div>
                    <div class="ui row">

                        <div class="ui sixteen wide column">
                            <div class="ui grid">
                                <div class="right floated right aligned sixteen wide column">
                                    <div class="buttonRow">
                                        <button type="submit" class="ui blue large button primaryBtn">
                                            Save
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </form>

        </div>
    </div>
</div>
